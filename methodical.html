
<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" type="text/css" href="styles/all.css" media="all" />

  <title>Toby Leung - Portfolio</title>
</head>

<body>

  <div id="navbar">
    <a href="index.html" style="padding-bottom: 11px;">
        <img src="/assets/textures/gradientCircle.png" alt="Logo">
    </a>
    <a href="futuristicindividuality.html">Futuristic Individuality</a>
    <a href="methodical.html">Methodical</a>
    <a href="empathy.html">Empathy</a>
    <a href="contact.html" id="contactMenu">Contact</a>
  </div>

  <canvas id="webgl"></canvas>
    <!-- <script src="/lib/OBJLoader.js"></script> -->
    <script src="lib/navigate.js"></script>
    <script src="/lib/Tween.min.js"></script>
    <script src="/lib/perlin.js"></script>
    <script src="/lib/dat.gui.min.js"></script>
    <script src="/build/three.js"></script>
    <!-- <script src="/build/three.module.js"></script> -->
    <!-- <script src="/build/LoadingManager.js"></script>
    <script src="/build/ObjectLoader.js"></script>
    <script src="/build/OBJLoader.js"></script> -->
    <!-- <script src="/lib/OrbitControls.js"></script> -->
    <!-- <script src="/js/main0.js"></script> -->
    <!-- <script src="/js/main2.js"></script> -->
    <!-- <script src="/js/practice2.js"></script> -->
    <script src="/js/threex.domevent.js"></script>
    <script src="../js/three.min.js"></script>
    <script src="../js/three.interaction.js"></script>
    <script type="module">

    // import * as THREE from './build/three.module.js';
    import { OBJLoader } from './lib/OBJLoader.js';

    window.addEventListener('resize', onWindowResize, false);

    // import * as THREE from '../build/three.module.js';
		// import { OBJLoader } from '/lib/OBJLoader.js';
		// import { OBJLoader } from 'OBJLoader3.js';



// // ortho cam
//     var WIDTH = window.innerWidth;
//     var HEIGHT = window.innerHeight;
//     var camera = new THREE.OrthographicCamera(
//     	-WIDTH/50,
//     	WIDTH/50,
//     	HEIGHT/50,
//     	-HEIGHT/50,
//       // -10,10,10,-10,
//     	1,
//     	1000
//     );
//     camera.position.z = 0;
//     camera.position.x = 20;
//     camera.position.y = 20;
//     camera.lookAt(new THREE.Vector3(0, 0, 0));

    var WIDTH = window.innerWidth;
    var HEIGHT = window.innerHeight;
    var camera = new THREE.PerspectiveCamera(45, WIDTH / HEIGHT, 1, 100);
    camera.position.z = 40;
    camera.position.x = 0;
    camera.position.y = 0;
    camera.lookAt(new THREE.Vector3(0, 0, 0));
    var renderer = new THREE.WebGLRenderer({
      canvas: document.querySelector('#webgl'),
      antialias: true,
    });
    renderer.setClearColor('rgb(20, 20, 20)');
    renderer.setSize(WIDTH, HEIGHT);
    var scene = new THREE.Scene();


    var interaction = new THREE.Interaction(renderer, scene, camera);

    // var cube = new THREE.Mesh(
    //   new THREE.BoxGeometry(0.1, 0.1, 0.1),
    //   new THREE.MeshPhongMaterial({ color: 0xffffff }),
    //   transparent: true,
    // );
    // cube.cursor = 'pointer';
    // cube.position.y = 0;
    // cube.position.z = 0;
    // cube.name = 'cube';
    // scene.add(cube);
    //
    // var ambient = new THREE.AmbientLight( 0x666666 );
    // scene.add( ambient );
    // var light = new THREE.PointLight(0xffffff);
    // light.position.set(20, 50, 10);
    // scene.add(light);

// my shit
var particleMat = new THREE.PointsMaterial({
  color: 'rgb(0, 255, 255)',
  size: 0.15,
  map: new THREE.TextureLoader().load('/assets/textures/particle.jpg'),
  transparent: true,
  blending: THREE.AdditiveBlending,
  depthWrite: false,
  name: 'particleMat'
});

var particleGeo = new THREE.SphereGeometry(10, 54, 54);

particleGeo.vertices.forEach(function(vertex) {
  vertex.x += (Math.random() - 0.5);
  vertex.y += (Math.random() - 0.5);
  vertex.z += (Math.random() - 0.5);
});

var particleSystem = new THREE.Points(
  particleGeo,
  particleMat
);
particleSystem.name = 'particleSystem';

scene.add(particleSystem);

var particleMat2 = new THREE.PointsMaterial({
  color: 'rgb(169, 169, 169)',
  size: 0.15,
  map: new THREE.TextureLoader().load('/assets/textures/particle.jpg'),
  transparent: true,
  blending: THREE.AdditiveBlending,
  depthWrite: false
});
particleMat2.name = 'particleMat2';

var particleGeo2 = new THREE.SphereGeometry(5, 44, 44);

particleGeo2.vertices.forEach(function(vertex) {
  vertex.x += (Math.random() - 0.5);
  vertex.y += (Math.random() - 0.5);
  vertex.z += (Math.random() - 0.5);
});

var particleSystem2 = new THREE.Points(
  particleGeo2,
  particleMat2
);
particleSystem2.name = 'particleSystem2';

scene.add(particleSystem2);


var particleMat3 = new THREE.PointsMaterial({
  color: 'rgb(255, 255, 255)',
  size: 0.15,
  map: new THREE.TextureLoader().load('/assets/textures/particle.jpg'),
  transparent: true,
  blending: THREE.AdditiveBlending,
  depthWrite: false
});
particleMat3.name = 'particleMat3';

var particleGeo3 = new THREE.SphereGeometry(1, 22, 22);

particleGeo3.vertices.forEach(function(vertex) {
  vertex.x += (Math.random() - 0.5);
  vertex.y += (Math.random() - 0.5);
  vertex.z += (Math.random() - 0.5);
});

var particleSystem3 = new THREE.Points(
  particleGeo3,
  particleMat3
);
particleSystem3.name = 'particleSystem3';

scene.add(particleSystem3);

var geometry = new THREE.CircleGeometry(5.3,50);
var material = new THREE.MeshBasicMaterial( { color: 0xffff00 } );
  material.transparent = true;
  material.opacity = 0.0;
var circle = new THREE.Mesh( geometry, material );
  circle.position.z = 20;
circle.name = circle;
scene.add(circle);

var geometry2 = new THREE.CircleGeometry(2.55,50);
var material2 = new THREE.MeshBasicMaterial( { color: 0x00ff77 } );
  material2.transparent = true;
  material2.opacity = 0.0;
var circle2 = new THREE.Mesh( geometry2, material2 );
  circle2.position.z = 21;
circle2.name = circle2;
scene.add(circle2);

var geometry3 = new THREE.CircleGeometry(0.62,50);
var material3 = new THREE.MeshBasicMaterial( { color: 0xffffff });
  material3.transparent = true;
  material3.opacity = 0.0;
var circle3 = new THREE.Mesh( geometry3, material3 );
  circle3.position.z = 22;
circle3.name = circle3;
scene.add(circle3);

// var geometry = new THREE.BoxGeometry( 7, 1, 1 );
// var material = new THREE.MeshBasicMaterial( {color: 0x00ff00} );
// var trialCube = new THREE.Mesh( geometry, material );
//   trialCube.position.y = -15;
// trialCube.name = 'trialCube';
// scene.add(trialCube);
// cube.name = 'trialCube';

//PRACTICE LIGHTS IN CASE MATERIAL
var ambientLight = new THREE.AmbientLight( 0xcccccc, 0.4 );
scene.add( ambientLight );

var pointLight = new THREE.PointLight( 0xffffff, 0.8 );
camera.add( pointLight );
scene.add( camera );

// //EXAMPLE OF LOADING attempts at loading external geometry
// //COMMENT OUT BUT DONT DELETE
//         var object;
// // manager
// 				function loadModel() {
// 					object.traverse( function ( child ) {
// 						if ( child.isMesh ) child.material.map = texture;
// 					} );
// 					// object.position.y = - 95;
//           object.translateX(5.0);
//           object.name = 'trialFace';
// 					scene.add( object );
//
//           const trialFace_obj = scene.getObjectByName('trialFace');
//           trialFace_obj.scale.set(30,30,30);
// 				}
// 				var manager = new THREE.LoadingManager( loadModel );
// 				manager.onProgress = function ( item, loaded, total ) {
// 					console.log( item, loaded, total );
// 				};
// 				// texture
// 				var textureLoader = new THREE.TextureLoader( manager );
// 				var texture = textureLoader.load( 'assets/models/head/Face_Color.jpg' );
// 				// model
// 				function onProgress( xhr ) {
// 					if ( xhr.lengthComputable ) {
// 						var percentComplete = xhr.loaded / xhr.total * 100;
// 						console.log( 'model ' + Math.round( percentComplete, 2 ) + '% downloaded' );
// 					}
// 				}
// 				function onError() {}
// 				var loader = new OBJLoader( manager );
// 				loader.load( 'assets/models/head/lee-perry-smith-head-scan.obj', function ( obj ) {
// 					object = obj;
// 				}, onProgress, onError );
// 				//

//LOADING TITLE1
        var object;
// manager
				function loadModel() {
					object.traverse( function ( child ) {
						if ( child.isMesh ) child.material.map = texture;
					} );
					// object.position.y = - 95;
          object.translateX(-13.0);
          object.translateY(-18.0);
          // object.translateY(-5.0);
          // object.rotateX(Math.pi/2)
          object.rotateX(Math.PI/2);
          object.name = 'title1';
					scene.add( object );

          const title1_obj = scene.getObjectByName('title1');
          title1_obj.scale.set(1,1,1);
				}
				var manager = new THREE.LoadingManager( loadModel );
				manager.onProgress = function ( item, loaded, total ) {
					console.log( item, loaded, total );
				};
				// texture
				var textureLoader = new THREE.TextureLoader( manager );
				var texture = textureLoader.load( 'assets/models/head/Face_Color.jpg' );
				// model
				function onProgress( xhr ) {
					if ( xhr.lengthComputable ) {
						var percentComplete = xhr.loaded / xhr.total * 100;
						console.log( 'model ' + Math.round( percentComplete, 2 ) + '% downloaded' );
					}
				}
				function onError() {}
				var loader = new OBJLoader( manager );
				loader.load( 'assets/models/textModels/futuristicIndividualityText.obj', function ( obj ) {
					object = obj;
				}, onProgress, onError );
				//


      var glowUp1;
      var glowUp2;
      var glowUp3;
      var title1Translate;

//interaction stuff hover/glow
    circle.on('mouseover', function(ev) {
      const particleSystem_obj = scene.getObjectByName('particleSystem');
      const title1_obj = scene.getObjectByName('title1');
      glowUp1 = true;
      title1Translate = true;
      console.log("glow1a");
    });
    circle.on('mouseout', function(ev) {
      const particleSystem_obj = scene.getObjectByName('particleSystem');
      glowUp1 = false;
      title1Translate = false;
      console.log("glow1b");
    });
    circle2.on('mouseover', function(ev) {
      const particleSystem2_obj = scene.getObjectByName('particleSystem2');
      glowUp2 = true;
      console.log("glow2a");
    });
    circle2.on('mouseout', function(ev) {
      const particleSystem2_obj = scene.getObjectByName('particleSystem2');
      glowUp2 = false;
      console.log("glow2b");
    });
    circle3.on('mouseover', function(ev) {
      const particleSystem3_obj = scene.getObjectByName('particleSystem3');
      glowUp3 = true;
      console.log("glow3a");
    });
    circle3.on('mouseout', function(ev) {
      const particleSystem3_obj = scene.getObjectByName('particleSystem3');
      glowUp3 = false;
      console.log("glow3b");
    });

//interaction stuff redirect
    circle.on('click', function(ev) {
      redirect1(scene.getObjectByName('circle'));
      console.log("redirect1a");
    });
    circle2.on('click', function(ev) {
      const particleSystem3_obj = scene.getObjectByName('particleSystem3');
      redirect2(particleSystem3_obj);
      console.log("redirect2");
    });
    circle3.on('click', function(ev) {
      const particleSystem3_obj = scene.getObjectByName('particleSystem3');
      redirect3(particleSystem3_obj);
      console.log("redirect3");
    });

    function render() {
      // cube.rotation.y += 0.01;
      particleSystem.rotation.y += 0.007;
      particleSystem2.rotation.y -= 0.009;
      particleSystem3.rotation.y += 0.011;

      //glowUp1 animation
      const particleSystem_obj = scene.getObjectByName('particleSystem');
      if (glowUp1==true && particleSystem_obj.material.size < 0.5){
          particleSystem_obj.material.size += 0.01;
            console.log("glow1c");
      }
      if (glowUp1==false && particleSystem_obj.material.size < 0.51 && particleSystem_obj.material.size > 0.15){
          particleSystem_obj.material.size -= 0.01;
            console.log("glow1d");
      }
      //glowUp2 animation
      const particleSystem2_obj = scene.getObjectByName('particleSystem2');
      if (glowUp2==true && particleSystem2_obj.material.size < 0.5){
          particleSystem2_obj.material.size += 0.01;
            console.log("glow2c");
      }
      if (glowUp2==false && particleSystem2_obj.material.size < 0.51 && particleSystem2_obj.material.size > 0.15){
          particleSystem2_obj.material.size -= 0.01;
            console.log("glow2d");
      }
      //glowUp3 animation
      const particleSystem3_obj = scene.getObjectByName('particleSystem3');
      if (glowUp3==true && particleSystem3_obj.material.size < 0.5){
          particleSystem3_obj.material.size += 0.01;
            console.log("glow3c");
      }
      if (glowUp3==false && particleSystem3_obj.material.size < 0.51 && particleSystem3_obj.material.size > 0.15){
          particleSystem3_obj.material.size -= 0.01;
            console.log("glow3d");
      }

      //trialCubeTranslate animation
      const title1_obj = scene.getObjectByName('title1');
      if (title1Translate==true && title1_obj.position.y < 0){
          title1_obj.position.y += 0.15;
            console.log("title1TranslateC");
      }
      if (title1Translate==false && title1_obj.position.y > -18){
          title1_obj.position.y -= 0.15;
            console.log("title1TranslateD");
      }


      renderer.render(scene, camera);
      requestAnimationFrame(render);
    }
    render();

    function onWindowResize() {
      camera.aspect = window.innerWidth / window.innerHeight;
      camera.updateProjectionMatrix();
      renderer.setSize(window.innerWidth, window.innerHeight);
    }

    // function blink(dom) {
    //   clearTimeout(dom.timer);
    //   dom.className = 'marker active';
    //   dom.timer = setTimeout(function(){
    //     dom.className = 'marker';
    //   }, 300);
    // }

// //Interaction functions (glow/hover)
//     function glow11(particleSystem_param) {
//       // particleSystem_param.material.size += 0.01;
//       // console.log("glow11c");
//     }
//     function glow12(particleSystem_param) {
//       // particleSystem_param.material.size = 0.15;
//       // console.log("glow12c");
//     }
//     function glow21(particleSystem2_param) {
//       particleSystem2_param.material.size = 0.5;
//     }
//     function glow22(particleSystem2_param) {
//       particleSystem2_param.material.size = 0.15;
//     }
//     function glow31(particleSystem3_param) {
//       particleSystem3_param.material.size = 0.5;
//     }
//     function glow32(particleSystem3_param) {
//       particleSystem3_param.material.size = 0.15;
//     }

//Interaction functions (redirect)
    function redirect1(dom) {
      location.replace("futuristicindividuality.html")
      console.log("redirect1b")
    }
    function redirect2(dom) {

    }
    function redirect3(dom) {

    }
      </script>


    <!-- <div id="menuTitle">
      <p>title</p>
    </div> -->

</body>

</html>
